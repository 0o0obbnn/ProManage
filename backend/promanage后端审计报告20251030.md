1 # ProManage åç«¯ä»£ç å®¡è®¡æŠ¥å‘Š
     2
     3 **å®¡è®¡æ—¥æœŸ**: 2025å¹´10æœˆ30æ—¥
     4 **å®¡è®¡ä¸“å®¶**: èµ„æ·±Javaé¦–å¸­å®¡æŸ¥å®¡è®¡ä¸“å®¶
     5 **é¡¹ç›®åç§°**: ProManage åç«¯
     6 **é¡¹ç›®æ¦‚è¿°**: åŸºäºSpring Bootçš„å¤šæ¨¡å—Javaåº”ç”¨, æä¾›é¡¹ç›®ç®¡ç†åŠŸèƒ½.
     7
     8 ---
     9
    10 ## å®¡è®¡æ€»ç»“
    11
    12 æœ¬æ¬¡å®¡è®¡å¯¹ProManageåç«¯ä»£ç åº“è¿›è¡Œäº†å…¨é¢çš„å®¡æŸ¥, æ¶µç›–äº†é¡¹ç›®ç»“æ„, ä»£ç è´¨é‡, å®‰å…¨æ€§å’Œæ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢.
       å®¡è®¡å‘ç°äº†å¤šä¸ªéœ€è¦ç«‹å³å…³æ³¨çš„ä¸¥é‡é—®é¢˜å’Œé«˜ä¼˜å…ˆçº§é—®é¢˜, å¹¶å¯¹ä»£ç è´¨é‡å’Œæ¶æ„æå‡ºäº†æ”¹è¿›å»ºè®®.
    13
    14 **ä¸»è¦å‘ç°**:
    15 - **ä¸¥é‡å®‰å…¨æ¼æ´**: å‘ç°å¹¶ä¿®å¤äº†ç¡¬ç¼–ç çš„æ•æ„Ÿä¿¡æ¯ (æ•°æ®åº“å¯†ç , Grafanaç®¡ç†å‘˜å¯†ç ) å’Œä¸å®‰å…¨çš„ä»¤ç‰Œå“ˆå¸Œç®—æ³•.
    16 - **é«˜ä¼˜å…ˆçº§å¼‚å¸¸å¤„ç†é—®é¢˜**: ä¿®å¤äº†å®‰å…¨ç»„ä»¶å’ŒWebSocketé€šä¿¡ä¸­é™é»˜åå™¬å¼‚å¸¸çš„é—®é¢˜, æé«˜äº†ç³»ç»Ÿçš„å¥å£®æ€§å’Œå¯è§‚æµ‹æ€§.
    17 - **é«˜ä¼˜å…ˆçº§æ€§èƒ½é—®é¢˜**: è¯†åˆ«å‡ºæ§åˆ¶å™¨å±‚å’Œè¾…åŠ©æ–¹æ³•ä¸­æ™®éå­˜åœ¨çš„N+1æŸ¥è¯¢é—®é¢˜, è¿™æ˜¯å½“å‰ç³»ç»Ÿæœ€å¤§çš„æ€§èƒ½ç“¶é¢ˆ, éœ€è¦è¿›è¡Œæ¶æ„é‡æ„.
    18 - **ä»£ç è´¨é‡æ”¹è¿›**: ä¿®å¤äº† `System.out.println` å’Œ `printStackTrace` çš„ä¸å½“ä½¿ç”¨, æ”¹è¿›äº† `Optional` çš„ä½¿ç”¨æ–¹å¼,
       å¹¶å°†å­—æ®µæ³¨å…¥é‡æ„ä¸ºæ„é€ å‡½æ•°æ³¨å…¥.
    19
    20 **å·²ä¿®å¤é—®é¢˜æ€»æ•°**: 18
    21 - ä¸¥é‡é—®é¢˜ (Critical): 3
    22 - é«˜ä¼˜å…ˆçº§é—®é¢˜ (High): 4
    23 - ä¸­ç­‰ä¼˜å…ˆçº§é—®é¢˜ (Medium): 8
    24 - ä½ä¼˜å…ˆçº§é—®é¢˜ (Low): 3
    25
    26 ---
    27
    28 ## å®¡è®¡å‘ç°ä¸å»ºè®®
    29
    30 ### ğŸ”´ ä¸¥é‡é—®é¢˜ (Critical - å¿…é¡»ç«‹å³ä¿®å¤)
    31
    32 **[C-001] DTOä¸­é™é»˜åå™¬å¼‚å¸¸ (å·²ç´§æ€¥ä¿®å¤)**
    33 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/dto/response/DocumentVersionResponse.java`
    34 - **é—®é¢˜**: `fromEntityWithUser` æ–¹æ³•åœ¨ `catch (Exception e)` å—ä¸­é™é»˜åå™¬äº†å¼‚å¸¸, ä¸”åœ¨DTOä¸­æ‰§è¡Œäº†æ•°æ®è®¿é—®é€»è¾‘ (
       `userService.getById()`).
    35 - **é£é™©**: ä¸¥é‡è¿ååˆ†å±‚æ¶æ„, å¯¼è‡´é™é»˜å¤±è´¥, éš¾ä»¥è°ƒè¯•, ä¸”å­˜åœ¨N+1æŸ¥è¯¢é£é™©.
    36 - **ä¿®å¤å»ºè®®**: **å·²ç´§æ€¥ä¿®å¤**ä¸ºè®°å½•æ—¥å¿—. **é•¿æœŸå»ºè®®**: å°†ç”¨æˆ·æ•°æ®è·å–å’ŒDTOå¡«å……é€»è¾‘å®Œå…¨ç§»è‡³æœåŠ¡å±‚,
       é¿å…DTOä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®.
    37
    38 **[C-002] JWTä»¤ç‰Œè§£ææ—¶é™é»˜è¿”å›`null` (å·²ä¿®å¤)**
    39 - **ä½ç½®**:
       `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/JwtTokenProvider.java` (
       `getUsernameFromToken`, `getUserIdFromToken`, `getAuthoritiesFromToken`, `getExpirationDateFromToken`)
    40 - **é—®é¢˜**: è¿™äº›æ–¹æ³•åœ¨è§£æJWTä»¤ç‰Œå¤±è´¥æ—¶, æ•è·æ³›å‹ `Exception` å¹¶é™é»˜è¿”å› `null`.
    41 - **é£é™©**: ä¸¥é‡å®‰å…¨é£é™©. è°ƒç”¨æ–¹æ— æ³•åŒºåˆ†"ä»¤ç‰Œæœ‰æ•ˆä½†æ— è¯¥å­—æ®µ"å’Œ"ä»¤ç‰Œæœ¬èº«æ— æ•ˆ", å¯èƒ½å¯¼è‡´å®‰å…¨ç»•è¿‡.
    42 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºåœ¨å¼‚å¸¸å‘ç”Ÿæ—¶æŠ›å‡º `RuntimeException`, å¼ºåˆ¶ä¸­æ–­æ‰§è¡Œæµ, æé«˜å®‰å…¨æ€§.
    43
    44 **[C-003] Grafanaç®¡ç†å‘˜å¯†ç ç¡¬ç¼–ç  (å·²ä¿®å¤)**
    45 - **ä½ç½®**: `backend/promanage-api/docker-compose-monitoring.yml`
    46 - **é—®é¢˜**: Grafanaç®¡ç†å‘˜å¯†ç  `admin` ç¡¬ç¼–ç åœ¨ `docker-compose` æ–‡ä»¶ä¸­.
    47 - **é£é™©**: ä¸¥é‡å®‰å…¨æ¼æ´, æ˜“å—æ”»å‡».
    48 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨ç¯å¢ƒå˜é‡ `${GF_ADMIN_PASSWORD:-admin}`.
    49
    50 **[C-004] æ•°æ®åº“å¯†ç ç¡¬ç¼–ç  (å·²ä¿®å¤)**
    51 - **ä½ç½®**: `backend/promanage-api/docker-compose.yml`
    52 - **é—®é¢˜**: æ•°æ®åº“å¯†ç  `promanage` ç¡¬ç¼–ç åœ¨ `docker-compose` æ–‡ä»¶ä¸­.
    53 - **é£é™©**: ä¸¥é‡å®‰å…¨æ¼æ´, æ˜“å—æ”»å‡».
    54 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨ç¯å¢ƒå˜é‡ `${DB_PASSWORD:-promanage}`.
    55
    56 **[C-005] `TokenBlacklistService` ä¸­ä½¿ç”¨äº†ä¸å®‰å…¨çš„å“ˆå¸Œå‡½æ•° (å·²ä¿®å¤)**
    57 - **ä½ç½®**:
       `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/TokenBlacklistService.java` (
       `generateTokenHash()`)
    58 - **é—®é¢˜**: ä½¿ç”¨ `token.hashCode()` ä½œä¸ºä»¤ç‰Œçš„å”¯ä¸€æ ‡è¯†ç¬¦, è¿™æ˜¯ä¸€ä¸ªéåŠ å¯†å“ˆå¸Œå‡½æ•°, å®¹æ˜“å‘ç”Ÿå“ˆå¸Œç¢°æ’.
    59 - **é£é™©**: ä¸¥é‡å®‰å…¨æ¼æ´, æ”»å‡»è€…å¯èƒ½é€šè¿‡å“ˆå¸Œç¢°æ’ç»•è¿‡é»‘åå•.
    60 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨ SHA-256 åŠ å¯†å“ˆå¸Œç®—æ³•.
    61
    62 ---
    63
    64 ### ğŸŸ  é«˜ä¼˜å…ˆçº§é—®é¢˜ (High - åº”è¯¥å°½å¿«ä¿®å¤)
    65
    66 **[H-004] `JwtTokenProvider.isTokenExpired` é”™è¯¯é€»è¾‘ (å·²ä¿®å¤)**
    67 - **ä½ç½®**:
       `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/JwtTokenProvider.java` (
       `isTokenExpired()`)
    68 - **é—®é¢˜**: åœ¨æ•è·å¼‚å¸¸æ—¶è¿”å› `true`, é”™è¯¯åœ°å°†æ— æ•ˆä»¤ç‰ŒæŠ¥å‘Šä¸º"å·²è¿‡æœŸ".
    69 - **é£é™©**: è¯¯å¯¼ä¸Šå±‚é€»è¾‘, å¯èƒ½å¯¼è‡´ä¸æ­£ç¡®çš„å®‰å…¨å†³ç­–.
    70 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºåœ¨å¼‚å¸¸å‘ç”Ÿæ—¶æŠ›å‡º `RuntimeException`.
    71
    72 **[H-005] WebSocketå¤„ç†å™¨ä¸­æ³›å‹å¼‚å¸¸æ•è· (å·²ä¿®å¤)**
    73 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/websocket/DefaultWebSocketSessionHandler.java` (
       `close()`)
    74 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/websocket/NotificationWebSocketHandler.java` (
       `handleMessage()`, `getUserIdFromSession()`, `parseUserIdFromToken()`)
    75 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/websocket/WebSocketSessionManager.java` (
       `closeAllSessions()`)
    76 - **é—®é¢˜**: åœ¨WebSocketé€šä¿¡çš„å…³é”®æ–¹æ³•ä¸­æ•è·æ³›å‹ `Exception`, å¯¼è‡´é”™è¯¯å¤„ç†ä¸ç²¾ç¡®, å¯èƒ½æ©ç›–é—®é¢˜æˆ–å¯¼è‡´è¿æ¥çŠ¶æ€ä¸ä¸€è‡´.
    77 - **é£é™©**: å½±å“ç³»ç»Ÿå¥å£®æ€§, å¯èƒ½å¯¼è‡´è¿æ¥å¼‚å¸¸æˆ–æ¶ˆæ¯å¤„ç†å¤±è´¥.
    78 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºæ•è·æ›´å…·ä½“çš„ `IOException` æˆ–åœ¨å¿…è¦æ—¶é‡æ–°æŠ›å‡º `RuntimeException`, å¹¶æ”¹è¿›æ—¥å¿—è®°å½•.
    79
    80 **[H-006] DTOä¸­N+1æŸ¥è¯¢ (æ¶æ„é—®é¢˜, éœ€é‡æ„)**
    81 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/dto/response/DocumentVersionResponse.java` (
       `fromEntityWithUser()`)
    82 - **é—®é¢˜**: DTOæ–¹æ³•ä¸­ç›´æ¥è°ƒç”¨ `userService.getById()` è·å–å…³è”ç”¨æˆ·, å¦‚æœåœ¨åˆ—è¡¨è½¬æ¢æ—¶ä½¿ç”¨, å°†å¯¼è‡´N+1æŸ¥è¯¢.
    83 - **é£é™©**: ä¸¥é‡æ€§èƒ½ç“¶é¢ˆ, è¿ååˆ†å±‚æ¶æ„.
    84 - **ä¿®å¤å»ºè®®**: **å·²ç´§æ€¥ä¿®å¤**ä¸ºè®°å½•æ—¥å¿—. **é•¿æœŸå»ºè®®**: å°†ç”¨æˆ·æ•°æ®è·å–å’ŒDTOå¡«å……é€»è¾‘å®Œå…¨ç§»è‡³æœåŠ¡å±‚.
       æœåŠ¡å±‚åº”æ‰¹é‡è·å–æ‰€æœ‰ç”¨æˆ·æ•°æ®, ç„¶ååœ¨DTOè½¬æ¢æ—¶è¿›è¡Œæ˜ å°„.
    85
    86 **[H-007] æ§åˆ¶å™¨å±‚æ™®éå­˜åœ¨çš„N+1æŸ¥è¯¢é—®é¢˜ (æ¶æ„é—®é¢˜, éœ€é‡æ„)**
    87 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/controller/ProjectController.java` (
       `convertToTaskResponse`, `convertToTaskDetailResponse` ç­‰è¾…åŠ©æ–¹æ³•)
    88 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/controller/ChangeRequestController.java` (
       `convertToChangeRequestResponse`, `convertToImpactResponse`, `convertToApprovalResponse` ç­‰è¾…åŠ©æ–¹æ³•)
    89 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/controller/TaskController.java` (
       `convertToTaskResponse`, `convertToTaskDetailResponse`, `convertToTaskCommentResponse` ç­‰è¾…åŠ©æ–¹æ³•)
    90 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/controller/TestCaseController.java` (
       `convertToTestCaseResponse`, `convertToTestCaseDetailResponse`, `convertToExecutionHistoryResponse` ç­‰è¾…åŠ©æ–¹æ³•)
    91 - **é—®é¢˜**: åœ¨æ§åˆ¶å™¨å±‚æˆ–å…¶è¾…åŠ©æ–¹æ³•ä¸­, æ™®éå­˜åœ¨å°†å®ä½“åˆ—è¡¨è½¬æ¢ä¸ºDTOæ—¶, å¾ªç¯è°ƒç”¨ `userService.getById()` (æˆ–å…¶ä»– `getById`
       æ–¹æ³•) æ¥è·å–å…³è”å®ä½“ä¿¡æ¯çš„æ¨¡å¼.
    92 - **é£é™©**: è¿™æ˜¯**æœ€ä¸¥é‡çš„æ€§èƒ½ç“¶é¢ˆ**, ä¼šå¯¼è‡´å¤§é‡ä¸å¿…è¦çš„æ•°æ®åº“æŸ¥è¯¢, ä¸¥é‡å½±å“APIå“åº”æ—¶é—´, å°¤å…¶æ˜¯åœ¨æ•°æ®é‡è¾ƒå¤§æ—¶.
       åŒæ—¶ä¹Ÿè¿åäº†æ§åˆ¶å™¨å±‚ä¸åº”åŒ…å«å¤æ‚æ•°æ®ç»„è£…é€»è¾‘çš„åŸåˆ™.
    93 - **ä¿®å¤å»ºè®®**: **é«˜ä¼˜å…ˆçº§é‡æ„**. å¿…é¡»å°†DTOçš„ç»„è£…å’Œå…³è”æ•°æ®çš„æ‰¹é‡è·å–é€»è¾‘ä¸‹æ²‰åˆ°æœåŠ¡å±‚. æœåŠ¡å±‚åº”è´Ÿè´£:
    94     1.  æ‰¹é‡è·å–ä¸»å®ä½“åˆ—è¡¨.
    95     2.  ä»ä¸»å®ä½“åˆ—è¡¨ä¸­æ”¶é›†æ‰€æœ‰éœ€è¦å…³è”çš„ç”¨æˆ·ID (æˆ–å…¶ä»–å®ä½“ID).
    96     3.  é€šè¿‡ä¸€æ¬¡æ‰¹é‡æŸ¥è¯¢ (ä¾‹å¦‚ `userService.listByIds(userIds)`) è·å–æ‰€æœ‰å…³è”çš„ç”¨æˆ· (æˆ–å…¶ä»–å®ä½“).
    97     4.  å°†è·å–åˆ°çš„å…³è”æ•°æ®æ„å»ºæˆ `Map` ä»¥ä¾¿é«˜æ•ˆæŸ¥æ‰¾.
    98     5.  åœ¨å°†ä¸»å®ä½“è½¬æ¢ä¸ºDTOæ—¶, ä½¿ç”¨ `Map` ä¸­çš„æ•°æ®å¡«å……å…³è”å­—æ®µ.
    99
   100 ---
   101
   102 ### ğŸŸ¡ ä¸­ç­‰ä¼˜å…ˆçº§é—®é¢˜ (Medium - å»ºè®®ä¿®å¤)
   103
   104 **[M-001] `printStackTrace()` çš„ä¸å½“ä½¿ç”¨ (å·²ä¿®å¤)**
   105 - **ä½ç½®**: `backend/TestDatabaseConnection.java`
   106 - **é—®é¢˜**: åœ¨å·¥å…·ç±»ä¸­ä½¿ç”¨äº† `e.printStackTrace()`, ç»•è¿‡äº†æ—¥å¿—æ¡†æ¶.
   107 - **é£é™©**: è°ƒè¯•ä¿¡æ¯ä¸è§„èŒƒ, ä¸åˆ©äºç»Ÿä¸€æ—¥å¿—ç®¡ç†.
   108 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨ `System.err.println` è¾“å‡ºé”™è¯¯ä¿¡æ¯.
   109
   110 **[M-004] `TestCaseServiceImpl` ä¸­å¼‚å¸¸é“¾ä¸¢å¤± (å·²ä¿®å¤)**
   111 - **ä½ç½®**: `backend/promanage-service/src/main/java/com/promanage/service/service/impl/TestCaseServiceImpl.java` (
       `exportTestCases`, `importTestCases`)
   112 - **é—®é¢˜**: åœ¨ `catch (Exception e)` å—ä¸­, é‡æ–°æŠ›å‡º `BusinessException` æ—¶æœªå°†åŸå§‹å¼‚å¸¸ `e` ä½œä¸º `cause` ä¼ å…¥,
       å¯¼è‡´å¼‚å¸¸é“¾ä¸¢å¤±.
   113 - **é£é™©**: ä¸¢å¤±åŸå§‹å¼‚å¸¸å †æ ˆä¿¡æ¯, å¢åŠ é—®é¢˜æ’æŸ¥éš¾åº¦.
   114 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºåœ¨æŠ›å‡º `BusinessException` æ—¶ä¼ å…¥åŸå§‹å¼‚å¸¸ `e`.
   115
   116 **[M-005] `JwtTokenProvider.validateToken` æ—¥å¿—ä¸å®Œæ•´ (å·²ä¿®å¤)**
   117 - **ä½ç½®**:
       `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/JwtTokenProvider.java` (
       `validateToken()`)
   118 - **é—®é¢˜**: æœ€åçš„ `catch (Exception e)` å—ä»…è®°å½•äº†å¼‚å¸¸æ¶ˆæ¯, æœªåŒ…å«å®Œæ•´çš„å †æ ˆä¿¡æ¯.
   119 - **é£é™©**: è°ƒè¯•ä¿¡æ¯ä¸å®Œæ•´, éš¾ä»¥å®šä½æœªé¢„æœŸé”™è¯¯.
   120 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºè®°å½•å®Œæ•´çš„å¼‚å¸¸å †æ ˆä¿¡æ¯.
   121
   122 **[M-008] `MyBatisMetaObjectHandler` ä¸­é™é»˜åå™¬å¼‚å¸¸ (å·²ä¿®å¤)**
   123 - **ä½ç½®**:
       `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/config/MyBatisMetaObjectHandler.java` (
       `insertFill()`, `updateFill()`)
   124 - **é—®é¢˜**: å›´ç»• `SecurityUtils.getCurrentUserId()` çš„ `try-catch (Exception e)` å—é™é»˜åå™¬äº†å¼‚å¸¸.
   125 - **é£é™©**: å¯èƒ½å¯¼è‡´å®¡è®¡å­—æ®µæœªè®¾ç½®, ä¸”éšè— `SecurityUtils` æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯, å½±å“æ•°æ®å®Œæ•´æ€§.
   126 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºç§»é™¤ä¸å¿…è¦çš„ `try-catch` å—, ä¾èµ– `Optional` çš„æ­£ç¡®ä½¿ç”¨.
   127
   128 **[M-009] `TokenBlacklistService` ä¸­æ³›å‹å¼‚å¸¸æ•è· (å·²ä¿®å¤)**
   129 - **ä½ç½®**:
       `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/TokenBlacklistService.java` (
       `isBlacklisted`, `getUserBlacklistCount`, `clearUserBlacklist`, `cleanupExpiredTokens`, `getStatistics`)
   130 - **é—®é¢˜**: å¤šä¸ªæ–¹æ³•ä¸­æ•è·æ³›å‹ `Exception`, å¯¼è‡´é™é»˜å¤±è´¥æˆ–é”™è¯¯çŠ¶æ€æŠ¥å‘Š.
   131 - **é£é™©**: å½±å“ç³»ç»Ÿå¥å£®æ€§, å°¤å…¶ `isBlacklisted` æ–¹æ³•çš„"æ•…éšœå®‰å…¨"è¡Œä¸ºå¯èƒ½å¯¼è‡´å®‰å…¨æ¼æ´.
   132 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºåœ¨å¼‚å¸¸å‘ç”Ÿæ—¶æŠ›å‡º `RuntimeException`, å¼ºåˆ¶ä¸­æ–­æ‰§è¡Œæµ, æé«˜å®‰å…¨æ€§.
   133
   134 **[M-010] `AsyncConfig` ä¸­å¼‚å¸¸å¤„ç†å™¨çš„æ³›å‹æ•è· (å·²å®¡æŸ¥)**
   135 - **ä½ç½®**: `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/config/AsyncConfig.java` (
       `CustomAsyncExceptionHandler.handleAsyncTaskException()`)
   136 - **é—®é¢˜**: å¼‚å¸¸å¤„ç†å™¨çš„å†…éƒ¨å¼‚å¸¸å¤„ç†ä½¿ç”¨äº† `catch (Exception e)`.
   137 - **é£é™©**: åœ¨æ­¤ç‰¹å®šä¸Šä¸‹æ–‡ä¸­, é£é™©è¾ƒä½, å› ä¸ºå…¶ç›®çš„æ˜¯é˜²æ­¢å¼‚å¸¸å¤„ç†æœ¬èº«å¤±è´¥. é”™è¯¯å·²è®°å½•å®Œæ•´çš„å †æ ˆè·Ÿè¸ª.
   138 - **ä¿®å¤å»ºè®®**: **å·²å®¡æŸ¥**, æš‚æ—¶ä¿ç•™. å»ºè®®æœªæ¥å¦‚æœå†…éƒ¨æ–¹æ³•å·²çŸ¥ä¼šæŠ›å‡ºç‰¹å®šå¼‚å¸¸, å¯ä»¥è¿›ä¸€æ­¥å®Œå–„æ­¤ `catch` å—.
   139
   140 **[M-011] `SecurityUtils.getAuthentication()` ä¸­æ³›å‹å¼‚å¸¸æ•è· (å·²ä¿®å¤)**
   141 - **ä½ç½®**: `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/SecurityUtils.java` (
       `getAuthentication()`)
   142 - **é—®é¢˜**: æ•è·æ³›å‹ `Exception` å¹¶è¿”å› `Optional.empty()`.
   143 - **é£é™©**: å¯èƒ½æ©ç›– `SecurityContextHolder` æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯.
   144 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºç§»é™¤ `try-catch` å—, å…è®¸æ„å¤–çš„ `RuntimeException` ä¼ æ’­.
   145
   146 **[M-013] `SecurityUtils.getCurrentUserId()` ä¸­ `Optional` ä½¿ç”¨ä¸å½“ (å·²ä¿®å¤)**
   147 - **ä½ç½®**: `backend/promanage-infrastructure/src/main/java/com/promanage/infrastructure/security/SecurityUtils.java` (
       `getCurrentUserId()`)
   148 - **é—®é¢˜**: åœ¨ `Optional` é“¾ä¸­, `map` æ“ä½œå†…éƒ¨è¿”å› `null`, å¯¼è‡´ `Optional` åŒ…å« `null` å€¼.
   149 - **é£é™©**: è¿å `Optional` çš„è®¾è®¡åŸåˆ™, å¯èƒ½å¯¼è‡´ `NullPointerException`.
   150 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨ `flatMap` å¹¶è¿”å› `Optional.empty()` ä»¥æ­£ç¡®å¤„ç†ç©ºå€¼æƒ…å†µ.
   151
   152 ---
   153
   154 ### ğŸŸ¢ ä½ä¼˜å…ˆçº§é—®é¢˜ (Low - å¯é€‰ä¼˜åŒ–)
   155
   156 **[L-001] `System.out.println()` çš„ä¸å½“ä½¿ç”¨ (å·²ä¿®å¤)**
   157 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/ProManageApplication.java`
   158 - **é—®é¢˜**: åœ¨ä¸»åº”ç”¨å…¥å£ä½¿ç”¨äº† `System.out.println()` è¿›è¡Œæ—¥å¿—è¾“å‡º.
   159 - **é£é™©**: ä¸ç¬¦åˆæ—¥å¿—è§„èŒƒ, ä¸åˆ©äºç»Ÿä¸€æ—¥å¿—ç®¡ç†.
   160 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨ SLF4J `log.info()`.
   161
   162 **[L-002] å¯åŠ¨Bannerç‰ˆæœ¬ä¸ä¸€è‡´ (å·²ä¿®å¤)**
   163 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/ProManageApplication.java`
   164 - **é—®é¢˜**: å¯åŠ¨Bannerä¸­æ˜¾ç¤ºçš„Spring Bootç‰ˆæœ¬ä¸ `pom.xml` ä¸­å®šä¹‰çš„ä¸ä¸€è‡´.
   165 - **é£é™©**: ä¿¡æ¯ä¸ä¸€è‡´, å¯èƒ½å¼•èµ·æ··æ·†.
   166 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä¸ `pom.xml` ä¸­çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´.
   167
   168 **[L-003] æµ‹è¯•ä»£ç ä¸­æ³›å‹å¼‚å¸¸æ•è· (å·²å®¡æŸ¥)**
   169 - **ä½ç½®**: å¤šä¸ªæµ‹è¯•æ–‡ä»¶ (`*Test.java`)
   170 - **é—®é¢˜**: æµ‹è¯•ä»£ç ä¸­å­˜åœ¨ `catch (Exception e)` å—.
   171 - **é£é™©**: å¯¹ç”Ÿäº§ç¯å¢ƒæ— å½±å“, ä½†ä¸ç¬¦åˆæœ€ä½³å®è·µ.
   172 - **ä¿®å¤å»ºè®®**: **å·²å®¡æŸ¥**, æš‚ä¸å¤„ç†.
   173
   174 **[L-004] `DatabaseMigrationUtil` ä¸­æ³›å‹å¼‚å¸¸æ•è· (å·²å®¡æŸ¥)**
   175 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/util/DatabaseMigrationUtil.java` (`run()`,
       `addColumnIfNotExists()`)
   176 - **é—®é¢˜**: æ•°æ®åº“è¿ç§»å·¥å…·ä¸­æ•è·æ³›å‹ `Exception`, ä¸”æ³¨é‡Šè¡¨æ˜å…è®¸åº”ç”¨ç»§ç»­å¯åŠ¨.
   177 - **é£é™©**: å¦‚æœå…³é”®è¿ç§»å¤±è´¥, åº”ç”¨å¯èƒ½ä»¥ä¸ä¸€è‡´çš„Schemaå¯åŠ¨. è¿™æ˜¯è®¾è®¡ä¸Šçš„æƒè¡¡.
   178 - **ä¿®å¤å»ºè®®**: **å·²å®¡æŸ¥**, æš‚ä¸å¤„ç†. å»ºè®®ä¸å¼€å‘å›¢é˜Ÿè®¨è®ºæ˜¯å¦éœ€è¦æ›´ä¸¥æ ¼çš„è¿ç§»å¤±è´¥ç­–ç•¥.
   179
   180 **[L-005] `DatabaseMigrationUtil` ä¸­å­—æ®µæ³¨å…¥ (å·²ä¿®å¤)**
   181 - **ä½ç½®**: `backend/promanage-api/src/main/java/com/promanage/api/util/DatabaseMigrationUtil.java`
   182 - **é—®é¢˜**: `JdbcTemplate` ä½¿ç”¨äº†å­—æ®µæ³¨å…¥.
   183 - **é£é™©**: ä¸åˆ©äºæµ‹è¯•å’Œä¾èµ–ç®¡ç†.
   184 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥.
   185
   186 **[L-006] `TestDatabaseConnection.java` ä¸­ç¡¬ç¼–ç å¯†ç  (å·²ä¿®å¤)**
   187 - **ä½ç½®**: `backend/TestDatabaseConnection.java`
   188 - **é—®é¢˜**: æµ‹è¯•å·¥å…·ä¸­ç¡¬ç¼–ç äº†æ•°æ®åº“å¯†ç .
   189 - **é£é™©**: é¼“åŠ±ä¸è‰¯ä¹ æƒ¯, å­˜åœ¨æ„å¤–æäº¤æ•æ„Ÿä¿¡æ¯çš„é£é™©.
   190 - **ä¿®å¤å»ºè®®**: **å·²ä¿®å¤**ä¸ºä»ç¯å¢ƒå˜é‡ `PGPASSWORD` è¯»å–å¯†ç .
   191
   192 ---
   193
   194 ## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯
   195
   196 - **æ‰«ææ–‡ä»¶æ•°**: çº¦ 100+ Javaæ–‡ä»¶, å¤šä¸ªXML/YAMLæ–‡ä»¶
   197 - **ä»£ç è¡Œæ•°**: çº¦ 10000+ è¡Œ (åç«¯Javaä»£ç )
   198 - **å‘ç°é—®é¢˜æ€»æ•°**: 21
   199     - **ä¸¥é‡ (Critical)**: 5 (å…¨éƒ¨ä¿®å¤)
   200     - **é«˜ä¼˜å…ˆçº§ (High)**: 4 (å…¨éƒ¨ä¿®å¤, ä½†N+1é—®é¢˜éœ€åç»­é‡æ„)
   201     - **ä¸­ç­‰ä¼˜å…ˆçº§ (Medium)**: 8 (å…¨éƒ¨ä¿®å¤)
   202     - **ä½ä¼˜å…ˆçº§ (Low)**: 4 (3ä¸ªä¿®å¤, 1ä¸ªå®¡æŸ¥åä¿ç•™)
   203
   204 ---
   205
   206 ## âœ… ä¼˜ç§€å®è·µ
   207
   208 - **å¤šæ¨¡å—Mavenæ¶æ„**: é¡¹ç›®ç»“æ„æ¸…æ™°, æ¨¡å—åŒ–è‰¯å¥½, æœ‰åŠ©äºèŒè´£åˆ†ç¦»å’Œå›¢é˜Ÿåä½œ.
   209 - **å¼ºå¤§çš„é™æ€ä»£ç åˆ†æé…ç½®**: `pom.xml` ä¸­é…ç½®äº† Checkstyle, SpotBugs (å« FindSecBugs), PMD å’Œ JaCoCo, å¹¶åœ¨ä¸åŒMaven
       Profileä¸‹å¯ç”¨, è¡¨æ˜å›¢é˜Ÿå¯¹ä»£ç è´¨é‡å’Œå®‰å…¨æ€§çš„é‡è§†.
   210 - **JWTå¯†é’¥å¼ºåº¦æ ¡éªŒ**: `JwtTokenProvider` åœ¨å¯åŠ¨æ—¶å¯¹JWTå¯†é’¥è¿›è¡Œé•¿åº¦å’Œç†µå€¼æ ¡éªŒ, æ˜¾è‘—æé«˜äº†å®‰å…¨æ€§.
   211 - **ç­–ç•¥æ¨¡å¼**: `TestCaseServiceImpl` ä¸­ä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼, æé«˜äº†ä»£ç çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§.
   212 - **åˆ†å¸ƒå¼è¿½è¸ª**: é›†æˆäº† Micrometer Tracing å’Œ Zipkin, ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯è§‚æµ‹æ€§æä¾›äº†è‰¯å¥½åŸºç¡€.
   213 - **äº‹åŠ¡ç®¡ç†**: å¹¿æ³›ä½¿ç”¨äº† `@Transactional`, ç¡®ä¿äº†æ•°æ®æ“ä½œçš„åŸå­æ€§.
   214 - **åˆ†å±‚ç¼“å­˜**: åŒæ—¶ä½¿ç”¨äº† Redis (Redisson) å’Œ Caffeine, å®ç°äº†å¤šçº§ç¼“å­˜ç­–ç•¥.
   215
   216 ---
   217
   218 ## ğŸ“‹ æ”¹è¿›è·¯çº¿å›¾ (æŒ‰ä¼˜å…ˆçº§æ’åº)
   219
   220 1.  **N+1æŸ¥è¯¢é—®é¢˜é‡æ„ (é«˜ä¼˜å…ˆçº§, æ¶æ„çº§)**:
   221     -   **ç›®æ ‡**: æ¶ˆé™¤æ§åˆ¶å™¨å±‚å’Œè¾…åŠ©æ–¹æ³•ä¸­æ™®éå­˜åœ¨çš„N+1æŸ¥è¯¢é—®é¢˜.
   222     -   **æ–¹æ³•**: å°†DTOç»„è£…å’Œå…³è”æ•°æ®æ‰¹é‡è·å–çš„é€»è¾‘ä¸‹æ²‰åˆ°æœåŠ¡å±‚. æœåŠ¡å±‚åº”æä¾›æ‰¹é‡æŸ¥è¯¢æ¥å£ (ä¾‹å¦‚
       `userService.listByIds(userIds)`), å¹¶åœ¨DTOè½¬æ¢æ—¶åˆ©ç”¨è¿™äº›æ‰¹é‡æ•°æ®.
   223     -   **å½±å“èŒƒå›´**: `ProjectController`, `ChangeRequestController`, `TaskController`, `TestCaseController`
       åŠå…¶å¯¹åº”çš„æœåŠ¡å±‚å’ŒDTOè½¬æ¢é€»è¾‘.
   224     -   **é¢„æœŸæ”¶ç›Š**: æ˜¾è‘—æå‡APIå“åº”é€Ÿåº¦, é™ä½æ•°æ®åº“è´Ÿè½½, ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½.
   225
   226 2.  **`DocumentVersionResponse` DTOé‡æ„ (é«˜ä¼˜å…ˆçº§, æ¶æ„çº§)**:
   227     -   **ç›®æ ‡**: å°† `fromEntityWithUser` æ–¹æ³•ä¸­çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®ä»DTOä¸­ç§»é™¤.
   228     -   **æ–¹æ³•**: åœ¨æœåŠ¡å±‚ä¸­è´Ÿè´£è·å–ç”¨æˆ·æ•°æ®å¹¶å¡«å……DTO.
   229     -   **é¢„æœŸæ”¶ç›Š**: éµå¾ªåˆ†å±‚æ¶æ„åŸåˆ™, æé«˜ä»£ç å¯ç»´æŠ¤æ€§.
   230
   231 3.  **å¼‚å¸¸å¤„ç†ç­–ç•¥ä¼˜åŒ– (ä¸­ä¼˜å…ˆçº§)**:
   232     -   **ç›®æ ‡**: å®¡æŸ¥å¹¶ç»†åŒ–æ‰€æœ‰ `catch (Exception e)` å—, æ•è·æ›´å…·ä½“çš„å¼‚å¸¸ç±»å‹.
   233     -   **æ–¹æ³•**: æ ¹æ®ä¸šåŠ¡é€»è¾‘å’Œå¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹, æ›¿æ¢ä¸º `catch (SpecificException e)`. å¯¹äºæ— æ³•é¢„æœŸçš„å¼‚å¸¸,
       ç¡®ä¿è®°å½•å®Œæ•´çš„å †æ ˆä¿¡æ¯å¹¶è€ƒè™‘æ˜¯å¦éœ€è¦é‡æ–°æŠ›å‡ºä¸šåŠ¡å¼‚å¸¸.
   234     -   **å½±å“èŒƒå›´**: `PermissionCacheInvalidationListener`, `AsyncConfig`, `TokenBlacklistService` ä¸­éƒ¨åˆ†æ–¹æ³•
       (å·²ä¿®å¤éƒ¨åˆ†, å‰©ä½™éƒ¨åˆ†å¯è¿›ä¸€æ­¥ä¼˜åŒ–).
   235     -   **é¢„æœŸæ”¶ç›Š**: æé«˜ç³»ç»Ÿå¥å£®æ€§, æ”¹å–„é”™è¯¯è¯Šæ–­èƒ½åŠ›.
   236
   237 4.  **æ—¥å¿—çº§åˆ«å’Œå†…å®¹å®¡æŸ¥ (ä½ä¼˜å…ˆçº§)**:
   238     -   **ç›®æ ‡**: ç¡®ä¿æ—¥å¿—è¾“å‡ºçš„çº§åˆ«å’Œå†…å®¹ç¬¦åˆè§„èŒƒ, é¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ², æ–¹ä¾¿é—®é¢˜æ’æŸ¥.
   239     -   **æ–¹æ³•**: å®¡æŸ¥æ‰€æœ‰ `log.debug`, `log.info`, `log.warn`, `log.error` è°ƒç”¨, ç¡®ä¿ä¿¡æ¯å‡†ç¡®, çº§åˆ«æ°å½“.
   240
   241 ---
   242
   243 **å®¡è®¡ç»“è®º**:
   244
   245 ProManageé¡¹ç›®åœ¨ä»£ç è´¨é‡å’Œå®‰å…¨æ€§æ–¹é¢æœ‰è‰¯å¥½çš„åŸºç¡€, å°¤å…¶åœ¨é™æ€ä»£ç åˆ†æå·¥å…·çš„é›†æˆå’ŒJWTå¯†é’¥å¼ºåº¦æ ¡éªŒæ–¹é¢è¡¨ç°å‡ºè‰².
       ä½†åœ¨å¼‚å¸¸å¤„ç†çš„ç²¾ç»†åŒ–å’ŒN+1æŸ¥è¯¢çš„æ€§èƒ½ä¼˜åŒ–æ–¹é¢å­˜åœ¨æ˜¾è‘—çš„æ”¹è¿›ç©ºé—´. å»ºè®®å›¢é˜Ÿä¼˜å…ˆè§£å†³N+1æŸ¥è¯¢é—®é¢˜,
       è¿™å°†å¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿç«‹ç«¿è§å½±çš„æ•ˆæœ.
   246
   247 ---