# Flyway Production Configuration
# ProManage Organization Module Refactor v1.1.0

# Database connection
flyway.url=jdbc:postgresql://localhost:5432/promanage_prod
flyway.user=promanage
flyway.password=${PROMANAGE_DB_PASSWORD}

# Schema
flyway.schemas=public
flyway.defaultSchema=public

# Migration locations
flyway.locations=filesystem:./promanage-api/src/main/resources/db/migration

# Baseline configuration
flyway.baselineOnMigrate=true
flyway.baselineVersion=1.0.0
flyway.baselineDescription=Initial baseline

# Validation
flyway.validateOnMigrate=true
flyway.validateMigrationNaming=true
flyway.outOfOrder=false
flyway.ignoreMissingMigrations=false
flyway.ignoreIgnoredMigrations=false
flyway.ignorePendingMigrations=false
flyway.ignoreFutureMigrations=false

# Placeholders (for variable substitution in SQL)
flyway.placeholderReplacement=true
flyway.placeholderPrefix=${
flyway.placeholderSuffix=}
flyway.placeholders.defaultTenantId=1
flyway.placeholders.defaultSubscriptionPlan=FREE

# Table configuration
flyway.table=flyway_schema_history

# Encoding
flyway.encoding=UTF-8

# SQL migration settings
flyway.sqlMigrationPrefix=V
flyway.sqlMigrationSeparator=__
flyway.sqlMigrationSuffixes=.sql

# Callbacks
flyway.callbacks=

# Target version (leave empty for latest)
flyway.target=

# Clean (DANGEROUS - disabled in production)
flyway.cleanDisabled=true
flyway.cleanOnValidationError=false

# Repair
flyway.repairOnMigrate=false

# Mixed mode (allow mixing transactional and non-transactional statements)
flyway.mixed=false

# Group (execute all pending migrations in a single transaction)
flyway.group=false

# Installed by
flyway.installedBy=promanage-deployment

# Connect retries
flyway.connectRetries=3
flyway.connectRetriesInterval=10

# Lock retry
flyway.lockRetryCount=50

# Oracle specific (not used, but kept for reference)
# flyway.oracle.sqlplus=false
# flyway.oracle.sqlplusWarn=false

# PostgreSQL specific
flyway.postgresql.transactional.lock=true

# Logging
flyway.loggers=auto
