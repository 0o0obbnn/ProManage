# ProManage 原子化开发任务计划 - 总览

**版本**: V1.1
**创建时间**: 2025-10-04
**最后更新**: 2025-10-04
**计划周期**: 4周 (Sprint 1-4)

---

## 📚 开发计划文档结构

本项目开发计划已拆分为三个独立文档，方便前后端团队并行开发：

### 1. 📄 [BACKEND_DEVELOPMENT_PLAN.md](./BACKEND_DEVELOPMENT_PLAN.md)
**后端开发计划** - 完整的后端开发任务和时间表
- API接口开发
- 数据库设计和优化
- 业务逻辑实现
- 后端单元测试和集成测试
- 性能优化和安全加固

**技术栈**: Java 17 + Spring Boot 3.2.5 + PostgreSQL 15+ + MyBatis Plus + Redis

### 2. 🎨 [FRONTEND_DEVELOPMENT_PLAN.md](./FRONTEND_DEVELOPMENT_PLAN.md)
**前端开发计划** - 完整的前端开发任务和时间表
- 页面和组件开发
- 状态管理和路由配置
- UI/UX优化
- 前端单元测试
- 性能优化和打包

**技术栈**: Vue 3 + TypeScript + Vite + Ant Design Vue + Pinia

### 3. 📋 本文档 (ATOMIZED_DEVELOPMENT_PLAN.md)
**开发总览** - 整体进度跟踪和里程碑管理
- 当前进度概览
- 关键里程碑
- 团队协作指南
- 风险和问题跟踪

---

## 📊 当前整体进度 (2025-10-04)

| 分类 | 模块 | 后端完成度 | 前端完成度 | 整体状态 |
|------|------|-----------|-----------|---------|
| **核心** | 认证系统 | 95% | 90% | ✅ 完成 |
| **核心** | 用户管理 | 85% | 60% | 🟡 进行中 |
| **核心** | 权限管理 | 90% | 70% | 🟡 进行中 |
| **核心** | 项目管理 | 80% | 0% | 🔴 前端阻塞 |
| **核心** | 文档管理 | 85% | 80% | 🟢 基本完成 |
| **核心** | 任务管理 | 75% | 75% | 🟡 进行中 |
| **核心** | 变更管理 | 70% | 70% | 🟡 进行中 |
| **增强** | 测试管理 | 65% | 70% | 🟡 进行中 |
| **增强** | 通知系统 | 0% | 0% | 🔴 未启动 |
| **增强** | 搜索功能 | 0% | 0% | 🔴 未启动 |
| **增强** | Dashboard | 60% | 75% | 🟡 进行中 |

**总体完成度**:
- 后端: ~60%
- 前端: ~55%
- 整体: ~58%

---

## 🎯 关键里程碑

### Week 1 里程碑 (截止 2025-10-11)
**目标**: 完成项目管理模块，修复核心问题

**后端交付**:
- ✅ 数据库初始化数据 (已完成)
- 🟡 文档管理API完善 (进行中)
- ⏸️ 项目管理API增强
- ⏸️ 任务管理API优化

**前端交付**:
- ✅ 修复登录跳转问题 (已完成)
- ⏸️ 项目列表页面
- ⏸️ 项目详情页面
- ⏸️ 项目创建/编辑表单
- ⏸️ 项目成员管理

**完成标准**:
- ✅ 可以成功登录
- ✅ 可以创建和管理项目
- ✅ 可以添加项目成员

---

### Week 2 里程碑 (截止 2025-10-18)
**目标**: 完成通知系统和搜索功能

**后端交付**:
- ⏸️ 通知系统实现
- ⏸️ WebSocket实时推送
- ⏸️ Elasticsearch集成
- ⏸️ 搜索Service实现

**前端交付**:
- ⏸️ 通知中心组件
- ⏸️ WebSocket实时推送
- ⏸️ 全局搜索组件
- ⏸️ 搜索API集成

**完成标准**:
- ✅ 实时接收通知
- ✅ 全局搜索可用
- ✅ 搜索结果准确

---

### Week 3 里程碑 (截止 2025-10-25)
**目标**: 功能增强和测试覆盖

**后端交付**:
- ⏸️ 组织管理模块
- ⏸️ 单元测试补充 (覆盖率70%+)
- ⏸️ API集成测试
- ⏸️ 数据库性能优化

**前端交付**:
- ⏸️ Dashboard增强
- ⏸️ 文档编辑器增强
- ⏸️ 任务甘特图优化

**完成标准**:
- ✅ 后端单元测试覆盖率≥70%
- ✅ 前端单元测试覆盖率≥40%
- ✅ 性能达标

---

### Week 4 里程碑 (截止 2025-11-01)
**目标**: 安全加固、性能优化、文档完善

**后端交付**:
- ⏸️ API响应时间优化
- ⏸️ 安全审计和加固
- ⏸️ API文档完善
- ⏸️ 部署配置优化

**前端交付**:
- ⏸️ 前端单元测试
- ⏸️ 前端性能优化
- ⏸️ 用户手册编写
- ⏸️ UI/UX优化

**完成标准**:
- ✅ 无高危安全漏洞
- ✅ 性能指标达标
- ✅ 文档完整
- ✅ 可以上线演示

---

## 🚀 快速开始

### 后端开发者
1. 阅读 [BACKEND_DEVELOPMENT_PLAN.md](./BACKEND_DEVELOPMENT_PLAN.md)
2. 从当前Sprint的待开始任务选择一个
3. 创建feature分支开始开发
4. 完成后提交代码审查

### 前端开发者
1. 阅读 [FRONTEND_DEVELOPMENT_PLAN.md](./FRONTEND_DEVELOPMENT_PLAN.md)
2. 从当前Sprint的待开始任务选择一个
3. 创建feature分支开始开发
4. 完成后提交代码审查

---

## 🔄 团队协作流程

### 每日站会 (Daily Standup)
**时间**: 每天上午 9:30
**时长**: 15分钟
**参与**: 全体开发人员

**议程**:
1. 昨天完成了什么
2. 今天计划做什么
3. 遇到什么阻塞

### 每周同步会 (Weekly Sync)
**时间**: 每周五下午 4:00
**时长**: 30分钟

**议程**:
1. 本周完成的任务回顾
2. 下周任务计划
3. 进度和风险讨论
4. 更新开发计划

### 代码审查 (Code Review)
**要求**: 所有代码合并前必须经过审查

**审查清单**:
- ✅ 代码符合规范
- ✅ 单元测试通过
- ✅ 无安全漏洞
- ✅ 性能可接受
- ✅ 文档已更新

---

## 📝 任务领取和更新流程

### 领取任务
1. 在对应的开发计划中选择状态为"⏸️ 待开始"的任务
2. 在团队群或项目管理工具中声明领取
3. 将任务状态更新为"🔵 进行中"
4. 创建对应的feature分支

### 更新进度
1. 每日更新子任务完成情况
2. 遇到阻塞及时在群里或会议上提出
3. 完成后更新为"✅ 已完成"并记录实际工作量
4. 提交Pull Request请求代码审查

---

## ⚠️ 当前风险和问题

### 🔴 高风险
1. **项目管理前端模块完全缺失** - 阻塞MVP
   - **影响**: 无法演示核心功能
   - **计划**: Week 1 优先完成
   - **责任人**: 前端团队

2. **通知系统未启动** - 影响用户体验
   - **影响**: 用户无法及时接收更新
   - **计划**: Week 2 完成
   - **责任人**: 前后端协同

### 🟡 中风险
1. **单元测试覆盖率不足** - 质量风险
   - **当前**: 后端~30%, 前端<20%
   - **目标**: 后端70%+, 前端40%+
   - **计划**: Week 3 重点补充

2. **性能未验证** - 上线风险
   - **计划**: Week 3-4 性能测试和优化

### 🟢 低风险
1. **文档不完整** - 影响使用
   - **计划**: Week 4 完善

---

## 📋 下方为详细任务列表

> **注意**: 以下内容已迁移到对应的开发计划文档中，请查看:
> - 后端任务: [BACKEND_DEVELOPMENT_PLAN.md](./BACKEND_DEVELOPMENT_PLAN.md)
> - 前端任务: [FRONTEND_DEVELOPMENT_PLAN.md](./FRONTEND_DEVELOPMENT_PLAN.md)

以下保留原有任务列表作为参考...

---

## 🎯 总体目标

完成 MVP (Minimum Viable Product) 的核心功能，达到可演示和测试阶段。

**关键成果 (KR)**:
- MVP功能完成度从60%提升至90%
- 单元测试覆盖率达到60%+
- 所有P0功能可用且稳定
- 完成端到端测试

---

## 📅 Sprint 1: 修复核心问题 + 项目管理模块 (第1周)

### 🔴 P0 - 关键修复任务

#### TASK-001: 修复登录后路由跳转问题 ✅ 已完成
**负责人**: 前端开发
**预估**: 0.5天
**实际**: 0.3天
**依赖**: 无
**完成时间**: 2025-10-04

**子任务**:
- [x] 1.1 清理浏览器缓存和localStorage
- [x] 1.2 检查路由守卫中的权限检查逻辑
- [x] 1.3 检查UserStore的fetchUserInfo方法
- [x] 1.4 添加详细的console日志用于调试
- [x] 1.5 测试登录后跳转到Dashboard
- [x] 1.6 测试带redirect参数的跳转

**修复内容**:
1. 修复前端API端口配置错误 (8081→8080)
2. 修复代码导入缺失 (添加get方法导入)
3. 修复Token传递时机问题 (先保存token再调用API)

**验收标准**:
- ✅ 登录成功后自动跳转到Dashboard
- ✅ 登录后访问受保护页面自动跳转
- ✅ 权限不足时跳转到403页面

**测试结果**:
- ✅ 登录功能完全正常
- ✅ Token生成和存储正常
- ✅ 权限获取正常
- ✅ 页面跳转正常

---

#### TASK-002: 数据库初始化数据创建 ✅ 已完成
**负责人**: 后端开发
**预估**: 0.5天
**实际**: 已完成
**依赖**: 无
**完成时间**: 2025-10-04之前

**子任务**:
- [x] 2.1 创建默认组织 (organization)
- [x] 2.2 创建默认管理员用户 (admin/Test@2024!Abc)
- [x] 2.3 创建默认角色 (SuperAdmin, ProjectManager, Developer, Tester, UIDesigner, DevOps, Guest)
- [x] 2.4 创建基础权限列表
- [x] 2.5 关联角色与权限
- [x] 2.6 编写SQL脚本 `init_data.sql`
- [x] 2.7 执行并验证数据

**验收标准**:
- ✅ 可以使用admin账号登录
- ✅ 所有默认角色存在
- ✅ 权限正确分配

**测试结果**:
- ✅ admin账号登录成功
- ✅ 权限列表获取成功: user, user:list, role:list, permission:list, project:list等

---

### 🟢 P0 - 项目管理前端开发

#### TASK-003: 项目列表页面
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-001, TASK-002

**子任务**:
- [ ] 3.1 创建 `views/project/index.vue`
- [ ] 3.2 实现项目列表展示 (卡片视图)
- [ ] 3.3 实现项目搜索和筛选
- [ ] 3.4 实现项目排序 (按创建时间、更新时间、名称)
- [ ] 3.5 实现分页
- [ ] 3.6 添加"创建项目"按钮
- [ ] 3.7 集成ProjectAPI
- [ ] 3.8 添加加载状态和错误处理

**验收标准**:
- ✅ 显示所有可访问的项目
- ✅ 搜索和筛选功能正常
- ✅ 分页正确
- ✅ 点击项目卡片跳转到详情页

---

#### TASK-004: 项目详情页面
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-003

**子任务**:
- [ ] 4.1 创建 `views/project/Detail.vue`
- [ ] 4.2 实现项目基本信息展示
- [ ] 4.3 实现项目成员列表
- [ ] 4.4 实现项目统计数据 (任务数、文档数、变更数)
- [ ] 4.5 实现项目时间线/活动流
- [ ] 4.6 添加"编辑项目"按钮
- [ ] 4.7 添加"归档项目"按钮
- [ ] 4.8 集成ProjectAPI

**验收标准**:
- ✅ 显示项目完整信息
- ✅ 项目成员列表正确
- ✅ 统计数据准确
- ✅ 活动流显示最新动态

---

#### TASK-005: 项目创建/编辑表单
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-003

**子任务**:
- [ ] 5.1 创建 `components/ProjectFormModal.vue`
- [ ] 5.2 实现表单字段:
  - [ ] 5.2.1 项目名称 (必填)
  - [ ] 5.2.2 项目标识符/Key (必填, 唯一)
  - [ ] 5.2.3 项目描述
  - [ ] 5.2.4 项目负责人选择
  - [ ] 5.2.5 项目起止时间
  - [ ] 5.2.6 项目状态 (Planning, Active, On Hold, Completed, Cancelled)
  - [ ] 5.2.7 项目可见性 (Public/Private)
- [ ] 5.3 实现表单验证
- [ ] 5.4 实现创建/编辑逻辑
- [ ] 5.5 集成ProjectAPI

**验收标准**:
- ✅ 表单验证正确
- ✅ 可以成功创建项目
- ✅ 可以成功编辑项目
- ✅ 错误信息清晰

---

#### TASK-006: 项目成员管理
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-004

**子任务**:
- [ ] 6.1 创建 `components/ProjectMemberModal.vue`
- [ ] 6.2 实现成员列表展示 (头像、姓名、角色、操作)
- [ ] 6.3 实现添加成员功能 (用户搜索 + 角色选择)
- [ ] 6.4 实现移除成员功能
- [ ] 6.5 实现修改成员角色功能
- [ ] 6.6 集成ProjectAPI
- [ ] 6.7 添加权限控制 (仅项目管理员可操作)

**验收标准**:
- ✅ 可以添加成员到项目
- ✅ 可以移除成员
- ✅ 可以修改成员角色
- ✅ 权限控制正确

---

#### TASK-007: 项目路由配置
**负责人**: 前端开发
**预估**: 0.5天
**依赖**: TASK-003, TASK-004

**子任务**:
- [ ] 7.1 在 `router/index.ts` 添加项目路由:
  - [ ] 7.1.1 `/projects` - 项目列表
  - [ ] 7.1.2 `/projects/:id` - 项目详情
  - [ ] 7.1.3 `/projects/:id/settings` - 项目设置
  - [ ] 7.1.4 `/projects/:id/members` - 项目成员
- [ ] 7.2 添加路由元信息 (title, icon, permissions)
- [ ] 7.3 更新侧边栏导航菜单
- [ ] 7.4 测试所有路由可访问性

**验收标准**:
- ✅ 所有项目路由可访问
- ✅ 侧边栏显示项目菜单
- ✅ 权限控制正确

---

#### TASK-008: 项目API集成
**负责人**: 前端开发
**预估**: 0.5天
**依赖**: 无

**子任务**:
- [ ] 8.1 创建 `api/modules/project.ts`
- [ ] 8.2 实现API方法:
  - [ ] 8.2.1 `getProjectList()` - 获取项目列表
  - [ ] 8.2.2 `getProjectById(id)` - 获取项目详情
  - [ ] 8.2.3 `createProject(data)` - 创建项目
  - [ ] 8.2.4 `updateProject(id, data)` - 更新项目
  - [ ] 8.2.5 `deleteProject(id)` - 删除项目
  - [ ] 8.2.6 `archiveProject(id)` - 归档项目
  - [ ] 8.2.7 `getProjectMembers(id)` - 获取项目成员
  - [ ] 8.2.8 `addProjectMember(id, data)` - 添加成员
  - [ ] 8.2.9 `removeProjectMember(id, userId)` - 移除成员
  - [ ] 8.2.10 `updateProjectMember(id, userId, data)` - 更新成员角色
- [ ] 8.3 添加TypeScript类型定义
- [ ] 8.4 添加错误处理

**验收标准**:
- ✅ 所有API方法可调用
- ✅ 类型定义完整
- ✅ 错误处理正确

---

---

### 🟢 P0 - 文档管理基础功能 (新增)

#### TASK-008A: 文档列表API完善
**负责人**: 后端开发
**预估**: 0.5天
**依赖**: 无
**状态**: ✅ 部分完成

**子任务**:
- [x] 8A.1 添加 `GET /api/v1/documents` 接口（跨项目查询）
- [ ] 8A.2 实现跨项目文档查询逻辑
- [ ] 8A.3 实现文档文件夹API (`GET /api/v1/documents/folders`)
- [ ] 8A.4 添加文档搜索功能
- [ ] 8A.5 添加文档过滤功能（按状态、优先级、标签）
- [ ] 8A.6 优化查询性能（添加索引）

**验收标准**:
- ✅ GET /api/v1/documents 接口可用
- ⏸️ 跨项目查询返回正确数据
- ⏸️ 文件夹API正常工作
- ⏸️ 搜索和过滤功能正常

**完成情况**:
- ✅ 2025-10-04: 添加基础文档列表API
- ✅ 2025-10-04: 前端测试通过（返回空列表）
- ⏸️ 待完善: 跨项目查询逻辑
- ⏸️ 待完善: 文件夹API

---

### Sprint 1 总结
**预估工作量**: 5天
**实际工作量**: 0.5天（截至2025-10-04）
**关键交付物**:
- ✅ 登录流程完全正常
- ✅ 数据库初始化数据就绪
- ✅ 文档列表API基础功能完成
- ⏸️ 项目管理模块前端开发（待开始）
- ⏸️ 可以创建、查看、编辑项目（待开发）

**当前进度**: 30% (2.5/8任务完成)

---

## 📅 Sprint 2: 通知系统 + 搜索功能 (第2周)

### 🟢 P1 - 通知系统后端开发

#### TASK-009: 通知数据模型和Mapper
**负责人**: 后端开发
**预估**: 0.5天
**依赖**: 无

**子任务**:
- [ ] 9.1 创建 `Notification` 实体类
- [ ] 9.2 创建 `NotificationMapper` 接口
- [ ] 9.3 创建 `NotificationMapper.xml`
- [ ] 9.4 添加字段:
  - user_id (接收者)
  - type (通知类型)
  - title (标题)
  - content (内容)
  - link (关联链接)
  - is_read (是否已读)
  - read_at (阅读时间)
  - created_at
- [ ] 9.5 编写基础CRUD SQL

**验收标准**:
- ✅ 实体类映射正确
- ✅ Mapper可以执行CRUD

---

#### TASK-010: 通知Service层实现
**负责人**: 后端开发
**预估**: 1天
**依赖**: TASK-009

**子任务**:
- [ ] 10.1 创建 `INotificationService` 接口
- [ ] 10.2 创建 `NotificationServiceImpl`
- [ ] 10.3 实现方法:
  - [ ] 10.3.1 `createNotification()` - 创建通知
  - [ ] 10.3.2 `getUserNotifications()` - 获取用户通知列表
  - [ ] 10.3.3 `getUnreadCount()` - 获取未读数量
  - [ ] 10.3.4 `markAsRead()` - 标记为已读
  - [ ] 10.3.5 `markAllAsRead()` - 全部标记已读
  - [ ] 10.3.6 `deleteNotification()` - 删除通知
  - [ ] 10.3.7 `sendNotification()` - 发送通知 (支持多渠道)
- [ ] 10.4 实现通知发送策略:
  - [ ] 10.4.1 站内信
  - [ ] 10.4.2 邮件 (集成EmailService)
  - [ ] 10.4.3 预留Webhook接口
- [ ] 10.5 添加单元测试

**验收标准**:
- ✅ 所有Service方法可用
- ✅ 单元测试通过
- ✅ 站内信和邮件发送成功

---

#### TASK-011: 通知Controller实现
**负责人**: 后端开发
**预估**: 0.5天
**依赖**: TASK-010

**子任务**:
- [ ] 11.1 创建 `NotificationController`
- [ ] 11.2 实现API端点:
  - [ ] 11.2.1 `GET /api/v1/notifications` - 获取通知列表
  - [ ] 11.2.2 `GET /api/v1/notifications/unread-count` - 获取未读数
  - [ ] 11.2.3 `POST /api/v1/notifications/{id}/read` - 标记已读
  - [ ] 11.2.4 `POST /api/v1/notifications/read-all` - 全部已读
  - [ ] 11.2.5 `DELETE /api/v1/notifications/{id}` - 删除通知
- [ ] 11.3 添加Swagger注解
- [ ] 11.4 添加权限控制

**验收标准**:
- ✅ 所有API可访问
- ✅ Swagger文档正确
- ✅ 权限控制正常

---

#### TASK-012: WebSocket实时推送
**负责人**: 后端开发
**预估**: 1天
**依赖**: TASK-010

**子任务**:
- [ ] 12.1 添加Spring WebSocket依赖
- [ ] 12.2 创建 `WebSocketConfig` 配置类
- [ ] 12.3 创建 `WebSocketHandler`
- [ ] 12.4 实现WebSocket连接管理
- [ ] 12.5 实现消息广播功能
- [ ] 12.6 实现用户定向推送
- [ ] 12.7 集成到NotificationService
- [ ] 12.8 添加心跳检测

**验收标准**:
- ✅ WebSocket连接稳定
- ✅ 可以接收实时通知
- ✅ 断线自动重连

---

### 🟢 P1 - 通知系统前端开发

#### TASK-013: 通知中心组件
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-011

**子任务**:
- [ ] 13.1 创建 `components/NotificationCenter.vue`
- [ ] 13.2 实现通知列表展示
- [ ] 13.3 实现未读数角标
- [ ] 13.4 实现标记已读功能
- [ ] 13.5 实现全部已读功能
- [ ] 13.6 实现通知删除功能
- [ ] 13.7 实现通知点击跳转
- [ ] 13.8 实现分页加载
- [ ] 13.9 添加空状态提示
- [ ] 13.10 集成NotificationAPI

**验收标准**:
- ✅ 通知列表正确显示
- ✅ 未读数实时更新
- ✅ 点击可跳转到相关内容

---

#### TASK-014: WebSocket前端集成
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-012, TASK-013

**子任务**:
- [ ] 14.1 创建 `utils/websocket.ts`
- [ ] 14.2 实现WebSocket连接管理
- [ ] 14.3 实现消息接收处理
- [ ] 14.4 实现断线重连
- [ ] 14.5 创建 `stores/modules/notification.ts`
- [ ] 14.6 集成到NotificationCenter组件
- [ ] 14.7 添加桌面通知支持 (Notification API)
- [ ] 14.8 添加音效提示

**验收标准**:
- ✅ 实时接收通知
- ✅ 桌面通知正常弹出
- ✅ 断线重连正常

---

### 🟢 P1 - 全文搜索功能

#### TASK-015: Elasticsearch集成
**负责人**: 后端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 15.1 添加Elasticsearch依赖
- [ ] 15.2 创建 `ElasticsearchConfig` 配置类
- [ ] 15.3 配置Elasticsearch连接
- [ ] 15.4 创建文档索引映射:
  - [ ] 15.4.1 Document索引
  - [ ] 15.4.2 Project索引
  - [ ] 15.4.3 Task索引
  - [ ] 15.4.4 ChangeRequest索引
- [ ] 15.5 实现索引同步逻辑
- [ ] 15.6 测试索引创建

**验收标准**:
- ✅ Elasticsearch连接成功
- ✅ 索引创建成功
- ✅ 数据同步正常

---

#### TASK-016: 搜索Service实现
**负责人**: 后端开发
**预估**: 1天
**依赖**: TASK-015

**子任务**:
- [ ] 16.1 创建 `ISearchService` 接口
- [ ] 16.2 创建 `SearchServiceImpl`
- [ ] 16.3 实现全文搜索方法
- [ ] 16.4 实现高亮显示
- [ ] 16.5 实现多字段搜索
- [ ] 16.6 实现搜索建议/自动完成
- [ ] 16.7 实现搜索结果排序
- [ ] 16.8 实现搜索过滤
- [ ] 16.9 添加单元测试

**验收标准**:
- ✅ 搜索结果准确
- ✅ 高亮显示正常
- ✅ 搜索性能<2秒

---

#### TASK-017: 搜索Controller实现
**负责人**: 后端开发
**预估**: 0.5天
**依赖**: TASK-016

**子任务**:
- [ ] 17.1 创建 `SearchController`
- [ ] 17.2 实现API端点:
  - [ ] 17.2.1 `GET /api/v1/search` - 全局搜索
  - [ ] 17.2.2 `GET /api/v1/search/suggest` - 搜索建议
  - [ ] 17.2.3 `GET /api/v1/search/documents` - 文档搜索
  - [ ] 17.2.4 `GET /api/v1/search/projects` - 项目搜索
  - [ ] 17.2.5 `GET /api/v1/search/tasks` - 任务搜索
- [ ] 17.3 添加Swagger注解
- [ ] 17.4 添加权限控制

**验收标准**:
- ✅ 所有API可访问
- ✅ 搜索结果符合权限

---

#### TASK-018: 搜索前端组件
**负责人**: 前端开发
**预估**: 1天
**依赖**: TASK-017

**子任务**:
- [ ] 18.1 创建 `components/GlobalSearch.vue`
- [ ] 18.2 实现搜索输入框 (支持快捷键 Ctrl+K)
- [ ] 18.3 实现搜索建议下拉
- [ ] 18.4 实现搜索结果展示
- [ ] 18.5 实现结果高亮
- [ ] 18.6 实现结果分类 (按类型)
- [ ] 18.7 实现高级搜索面板
- [ ] 18.8 集成SearchAPI
- [ ] 18.9 添加搜索历史

**验收标准**:
- ✅ 搜索功能流畅
- ✅ 搜索结果准确
- ✅ 快捷键正常工作

---

### Sprint 2 总结
**预估工作量**: 5天
**关键交付物**:
- ✅ 通知系统完整可用
- ✅ WebSocket实时推送正常
- ✅ Elasticsearch搜索功能正常
- ✅ 全局搜索组件可用

---

## 📅 Sprint 3: 功能增强 + 测试覆盖 (第3周)

### 🟡 功能增强任务

#### TASK-019: Dashboard数据统计增强
**负责人**: 全栈开发
**预估**: 1天
**依赖**: 项目管理模块完成

**子任务**:
- [ ] 19.1 后端: 添加统计API
  - [ ] 19.1.1 `getMyTaskStats()` - 我的任务统计
  - [ ] 19.1.2 `getProjectStats()` - 项目统计
  - [ ] 19.1.3 `getTeamStats()` - 团队统计
  - [ ] 19.1.4 `getRecentActivities()` - 最近活动
- [ ] 19.2 前端: 增强Dashboard展示
  - [ ] 19.2.1 添加任务统计卡片
  - [ ] 19.2.2 添加项目进度图表
  - [ ] 19.2.3 添加团队活跃度图表
  - [ ] 19.2.4 添加最近活动时间线
- [ ] 19.3 添加数据刷新功能

**验收标准**:
- ✅ Dashboard数据准确
- ✅ 图表展示清晰
- ✅ 数据自动刷新

---

#### TASK-020: 文档编辑器增强
**负责人**: 前端开发
**预估**: 1.5天
**依赖**: 无

**子任务**:
- [ ] 20.1 集成富文本编辑器 (TinyMCE 或 Quill)
- [ ] 20.2 集成Markdown编辑器 (markdown-it-vue)
- [ ] 20.3 实现编辑器切换功能
- [ ] 20.4 实现自动保存 (防丢失)
- [ ] 20.5 实现协同编辑冲突检测
- [ ] 20.6 实现图片上传和粘贴
- [ ] 20.7 实现代码高亮
- [ ] 20.8 实现表格支持

**验收标准**:
- ✅ 富文本和Markdown可切换
- ✅ 自动保存正常
- ✅ 图片上传成功

---

#### TASK-021: 任务甘特图优化
**负责人**: 前端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 21.1 集成甘特图库 (dhtmlx-gantt 或 frappe-gantt)
- [ ] 21.2 实现任务依赖关系展示
- [ ] 21.3 实现任务拖拽调整
- [ ] 21.4 实现关键路径高亮
- [ ] 21.5 实现导出为图片/PDF
- [ ] 21.6 优化性能 (大量任务时)

**验收标准**:
- ✅ 甘特图正确显示任务
- ✅ 依赖关系清晰
- ✅ 拖拽调整正常

---

#### TASK-022: 变更影响分析增强
**负责人**: 后端开发
**预估**: 1天
**依赖**: 项目管理模块完成

**子任务**:
- [ ] 22.1 实现智能关联推荐算法:
  - [ ] 22.1.1 基于关键词匹配
  - [ ] 22.1.2 基于标签匹配
  - [ ] 22.1.3 基于历史关联
- [ ] 22.2 实现影响评分机制
- [ ] 22.3 实现影响可视化数据
- [ ] 22.4 添加API `/api/v1/changes/{id}/impact-analysis`
- [ ] 22.5 添加单元测试

**验收标准**:
- ✅ 推荐准确率>70%
- ✅ 影响分析结果可理解
- ✅ API响应<1秒

---

### 🟡 测试覆盖任务

#### TASK-023: 后端单元测试补充
**负责人**: 后端开发
**预估**: 2天
**依赖**: 无

**子任务**:
- [ ] 23.1 为所有Service层编写单元测试
  - [ ] 23.1.1 UserServiceImpl 测试
  - [ ] 23.1.2 ProjectServiceImpl 测试
  - [ ] 23.1.3 DocumentServiceImpl 测试
  - [ ] 23.1.4 TaskServiceImpl 测试
  - [ ] 23.1.5 ChangeRequestServiceImpl 测试
  - [ ] 23.1.6 NotificationServiceImpl 测试
- [ ] 23.2 使用Mockito模拟依赖
- [ ] 23.3 覆盖正常流程和异常流程
- [ ] 23.4 达到单元测试覆盖率 60%+
- [ ] 23.5 生成测试报告

**验收标准**:
- ✅ 单元测试覆盖率≥60%
- ✅ 所有测试通过
- ✅ 测试报告生成

---

#### TASK-024: API集成测试
**负责人**: 后端开发
**预估**: 1.5天
**依赖**: TASK-023

**子任务**:
- [ ] 24.1 使用RestAssured编写API测试
- [ ] 24.2 测试所有Controller端点
- [ ] 24.3 测试认证和授权
- [ ] 24.4 测试异常场景
- [ ] 24.5 测试并发场景
- [ ] 24.6 生成API测试报告

**验收标准**:
- ✅ 所有API测试通过
- ✅ 测试覆盖率100% Controller层
- ✅ 测试报告详细

---

#### TASK-025: 前端单元测试
**负责人**: 前端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 25.1 配置Vitest测试框架
- [ ] 25.2 为关键组件编写测试:
  - [ ] 25.2.1 LoginForm 测试
  - [ ] 25.2.2 ProjectFormModal 测试
  - [ ] 25.2.3 TaskFormModal 测试
  - [ ] 25.2.4 NotificationCenter 测试
- [ ] 25.3 为Store编写测试:
  - [ ] 25.3.1 UserStore 测试
  - [ ] 25.3.2 NotificationStore 测试
- [ ] 25.4 为Utils编写测试:
  - [ ] 25.4.1 auth.ts 测试
  - [ ] 25.4.2 websocket.ts 测试
- [ ] 25.5 达到测试覆盖率 40%+

**验收标准**:
- ✅ 前端测试覆盖率≥40%
- ✅ 所有测试通过
- ✅ CI集成成功

---

### Sprint 3 总结
**预估工作量**: 5天
**关键交付物**:
- ✅ Dashboard功能完善
- ✅ 文档编辑器增强
- ✅ 甘特图可用
- ✅ 后端测试覆盖率60%+
- ✅ 前端测试覆盖率40%+

---

## 📅 Sprint 4: 性能优化 + 文档完善 (第4周)

### 🟡 性能优化任务

#### TASK-026: 数据库性能优化
**负责人**: 后端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 26.1 分析慢查询日志
- [ ] 26.2 添加必要的数据库索引:
  - [ ] 26.2.1 users表: username, email
  - [ ] 26.2.2 projects表: organization_id, status
  - [ ] 26.2.3 documents表: project_id, status
  - [ ] 26.2.4 tasks表: project_id, assignee_id, status
  - [ ] 26.2.5 change_requests表: project_id, status
- [ ] 26.3 优化N+1查询
- [ ] 26.4 添加查询缓存策略
- [ ] 26.5 性能测试验证

**验收标准**:
- ✅ 所有慢查询优化至<100ms
- ✅ 索引覆盖率100%
- ✅ 缓存命中率>80%

---

#### TASK-027: API响应时间优化
**负责人**: 后端开发
**预估**: 1天
**依赖**: TASK-026

**子任务**:
- [ ] 27.1 分析API响应时间瓶颈
- [ ] 27.2 优化复杂查询
- [ ] 27.3 实现分页优化
- [ ] 27.4 添加Redis缓存:
  - [ ] 27.4.1 用户信息缓存
  - [ ] 27.4.2 权限数据缓存
  - [ ] 27.4.3 项目列表缓存
- [ ] 27.5 实现缓存失效策略
- [ ] 27.6 压力测试验证

**验收标准**:
- ✅ P95响应时间<300ms
- ✅ 并发500+不崩溃
- ✅ 缓存正确失效

---

#### TASK-028: 前端性能优化
**负责人**: 前端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 28.1 实现路由懒加载
- [ ] 28.2 实现组件懒加载
- [ ] 28.3 优化图片加载 (懒加载 + WebP)
- [ ] 28.4 实现虚拟列表 (长列表优化)
- [ ] 28.5 优化打包体积:
  - [ ] 28.5.1 Tree-shaking
  - [ ] 28.5.2 代码分割
  - [ ] 28.5.3 压缩
- [ ] 28.6 使用Lighthouse分析
- [ ] 28.7 优化至Performance评分>90

**验收标准**:
- ✅ 首屏加载时间<3秒
- ✅ Lighthouse Performance>90
- ✅ 打包体积<2MB

---

### 🟡 文档完善任务

#### TASK-029: API文档完善
**负责人**: 后端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 29.1 为所有Controller添加完整Swagger注解
- [ ] 29.2 添加API使用示例
- [ ] 29.3 添加错误码说明
- [ ] 29.4 添加鉴权说明
- [ ] 29.5 生成在线API文档
- [ ] 29.6 添加Postman Collection

**验收标准**:
- ✅ Swagger文档100%覆盖
- ✅ API示例可执行
- ✅ Postman Collection可导入

---

#### TASK-030: 部署文档编写
**负责人**: DevOps
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 30.1 编写环境准备文档
- [ ] 30.2 编写数据库部署文档
- [ ] 30.3 编写后端部署文档
- [ ] 30.4 编写前端部署文档
- [ ] 30.5 编写Nginx配置文档
- [ ] 30.6 编写Docker部署文档
- [ ] 30.7 编写故障排查文档

**验收标准**:
- ✅ 按文档可成功部署
- ✅ 文档清晰易懂
- ✅ 覆盖所有环境

---

#### TASK-031: 用户手册编写
**负责人**: 产品/技术写作
**预估**: 1天
**依赖**: 功能完成

**子任务**:
- [ ] 31.1 编写快速入门指南
- [ ] 31.2 编写功能使用说明:
  - [ ] 31.2.1 项目管理指南
  - [ ] 31.2.2 文档管理指南
  - [ ] 31.2.3 任务管理指南
  - [ ] 31.2.4 变更管理指南
  - [ ] 31.2.5 测试管理指南
- [ ] 31.3 编写常见问题FAQ
- [ ] 31.4 录制操作演示视频
- [ ] 31.5 编写最佳实践

**验收标准**:
- ✅ 新用户可按手册上手
- ✅ 覆盖所有核心功能
- ✅ 视频清晰流畅

---

### 🟡 安全加固任务

#### TASK-032: 安全审计和加固
**负责人**: 后端开发
**预估**: 1天
**依赖**: 无

**子任务**:
- [ ] 32.1 执行依赖漏洞扫描 (OWASP Dependency-Check)
- [ ] 32.2 修复高危漏洞
- [ ] 32.3 添加HTTPS配置
- [ ] 32.4 配置CORS策略
- [ ] 32.5 添加请求频率限制 (Rate Limiting)
- [ ] 32.6 添加SQL注入防护
- [ ] 32.7 添加XSS防护
- [ ] 32.8 添加CSRF防护
- [ ] 32.9 配置安全响应头

**验收标准**:
- ✅ 无高危漏洞
- ✅ 通过OWASP Top 10检查
- ✅ 安全评分A级

---

### Sprint 4 总结
**预估工作量**: 5天
**关键交付物**:
- ✅ 性能达标 (P95<300ms, 首屏<3s)
- ✅ API文档完整
- ✅ 部署文档就绪
- ✅ 用户手册完成
- ✅ 安全加固完成

---

## 🎯 4周后的预期成果

### 功能完成度
- **MVP核心功能**: 90%+ 完成
- **项目管理**: 100% 完成
- **通知系统**: 100% 完成
- **全文搜索**: 100% 完成
- **测试覆盖**: 后端60%+, 前端40%+

### 质量指标
- **API响应时间**: P95 < 300ms
- **页面加载时间**: < 3秒
- **单元测试通过率**: 100%
- **安全漏洞**: 0个高危

### 文档完整度
- **API文档**: 100%
- **部署文档**: 100%
- **用户手册**: 100%

### 可演示功能
- ✅ 完整的用户认证流程
- ✅ 项目创建和管理
- ✅ 文档上传和协作
- ✅ 任务分配和跟踪
- ✅ 变更请求和审批
- ✅ 实时通知推送
- ✅ 全局搜索

---

## 📋 任务优先级说明

### P0 - 必须完成 (阻塞MVP)
- TASK-001 至 TASK-008: 项目管理模块
- TASK-029: API文档

### P1 - 应该完成 (影响用户体验)
- TASK-009 至 TASK-018: 通知和搜索
- TASK-023 至 TASK-025: 测试覆盖
- TASK-030 至 TASK-032: 文档和安全

### P2 - 可以延期 (增强功能)
- TASK-019 至 TASK-022: 功能增强
- TASK-026 至 TASK-028: 性能优化

---

## 🔄 每日工作流程建议

### 每日站会 (15分钟)
1. 昨天完成了什么
2. 今天计划做什么
3. 遇到什么阻塞

### 开发流程
1. 从任务列表选择一个任务
2. 创建feature分支
3. 完成开发和自测
4. 编写单元测试
5. 提交代码审查
6. 合并到主分支
7. 更新任务状态

### 代码审查清单
- ✅ 代码符合规范
- ✅ 单元测试通过
- ✅ 无安全漏洞
- ✅ 性能可接受
- ✅ 文档已更新

---

**计划制定者**: Claude Code
**最后更新**: 2025-10-04
**下次review**: 每周五
